#Get classes that are used in the project
#I might specifically import only after the arguments are parsed, since that might reduce loading unneeded code
#from socket_class import sckt_class
from HTTP_1_0 import HTTP_1_0
from Modules.post import *



class Server_Construction():
    '''
    Precondition : Takes an ip string and port string.
    Postcondition: Starts the server
    Description  : The code is used to coordinate a consistent start process between a gui start or shell start.
    This class creates an object with the logic to start the server, for both the gui, or commandline'''
    def __init__(self, ip, port, xss, cmd_inj):
        
        #If further modules are implemented, the if statements can be made into a more efficient tree structure.
        if (xss == True):
            handle_post_obj = vuln_xss_handle_POST()
        else:
            #At this time, XSS can't be disabled until a sanitized version is implemented.
            handle_post_obj = Handle_POST()
        if (cmd_inj == True):
            #Overwrite XSS to give both vulnerabilities.
            handle_post_obj = vuln_xss_cmdinj_Handle_POST()
        else:
            handle_post_obj = Handle_POST()

        print(handle_post_obj)
        start_server = HTTP_1_0(ip, port, handle_post_obj)