import logging
logger = logging.getLogger(__name__)



class Parser():
    '''This Module is used to parse an http request string'''
    def __init__(self):
        pass

    def parser1(self, data) :
        ''' Precondition : Takes in a http request string
            Postcondition: Returns method, uri, http_version if sucessful. Returns 1 if unsucessful.
            Description  : It parses a request string to determine HTTP method.'''
        try:
            # Split string by new line
            list = data.split("\n")

            # The first element in the list is the request line
            request_line = list[0]

            # Get individual pieces of request line
            parts = request_line.split(" ")
            method = parts[0]

            # If the request line has more than the request method
            #   set a variable for the URI
            if len(parts) > 1 :
                uri = parts[1]
            else :
                uri = None

            #   set a variable for the HTTP version
            if len(parts) > 2 :
                http_version = parts[2]
                
        except Exception as e5:
            logger.error(f'Parsing incoming string failed: {e5}')
            #The next line after return closes the socket
            return 1,1,1

        return method, uri, http_version
