# import requests
# import re
# import urllib3
# import cgi, cgitb
import os, sys
from subprocess import Popen, PIPE

class Handle_POST():
    def __init__(self):
        pass
    
    def handle_POST(self, uri, connection, ip, port):
        filename = uri.strip("/")
        # print(filename)

        pieces = filename.split("/")
        print(pieces)
        # print(pieces[1])

        p1 = ""
        p2 = ""
        if len(pieces[1]) > 30:
            p1 = pieces[1].split("?")
            p2 = p1[1].split("&")
        
        # print(p2)

        # http = urllib3.PoolManager()
        # r = http.request('POST', '%s:%s/%s/%s/post' % (ip, port, pieces[0], pieces[1]))

        # answers = {'key1':'value1', 'key2':'value2', 'key3':'value3', 'key4':'value4'}
        # getR = requests.get('http://%s:%s/%s/%s/get' % (ip, port, pieces[0], pieces[1]) , params=answers)

        # print(getR.url)
        
        # p1 = re.split('? |&', pieces[1])
        # print(p1)

        # print("here")

        # s = requests.Session()
        # r = requests.post('http://%s:%s/%s/%s/post' % (ip, port, pieces[0], pieces[1]) , data={'key1':'value1', 'key2':'value2', 'key3':'value3', 'key4':'value4'})
        # r = requests.post('%s:%s/%s/%s/post' % (ip, port, pieces[0], pieces[1]) , data={'key1':'value1', 'key2':'value2', 'key3':'value3', 'key4':'value4'})
        # r = s.post('http://%s:%s/%s/%s/post' % (ip, port, pieces[0], pieces[1]) , data={'key1':'value1', 'key2':'value2', 'key3':'value3', 'key4':'value4'})
        # r = s.post('%s:%s/%s/%s/post' % (ip, port, pieces[0], pieces[1]) , data={'key1':'value1', 'key2':'value2', 'key3':'value3', 'key4':'value4'})
        
        # print(r.text)
        # print(r)
        # print(r.json())

        # form = cgi.FieldStorage()
        # Q1 = form.getvalue('Q1')
        # print(Q1)