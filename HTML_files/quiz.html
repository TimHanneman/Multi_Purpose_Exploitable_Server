<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>3 Types of Viruses Quiz</title>
    
        <link href="styles.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
        
        <style>
            .red {color: red!important; }
            .green {color: green!important;}
        </style>

        <script>
            $(document).ready(function(){
                var score = 0;

                $("button").on("click", gradeQuiz);

                function isFormValid(index) {
                    let isValid = true;
                    if ($("#Q1").val() == ""){
                        isValid = false;
                        $("#validationFdbk").html("Question was not answered");
                    }
                    return isValid;

                    // if ($(`#Q${index}`).val() == ""){
                    //     isValid = false;
                    //     $("#validationFdbk").html("Question was not answered");
                    // }
                    // return isValid;
                }

                function rightAnswer(index) {
                    $(`#q${index}Feedback`).html("Correct!");
                    $(`#q${index}Feedback`).attr("class", "bg-success text-white");
                    score += 25;
                }

                function wrongAnswer(index) {
                    $(`#q${index}Feedback`).html("Incorrect!");
                    $(`#q${index}Feedback`).attr("class", "bg-warning text-white");
                }

                function gradeQuiz() {
                    $("#validationFdbk").html("");
                    if (!isFormValid()){
                        return;
                    }

                    score = 0;
                    let q1Response = $("#Q1").val().toLowerCase();
                    // let q3Response = $("#Q3").val().toLowerCase();
                    // let q2 = $("input[name=q4]:checked").val();

                    if (q1Response == "15"){
                        rightAnswer(1);
                    }
                    else{
                        wrongAnswer(1);
                    }

                    // if (q3Response == "Rugrat"){
                    //     rightAnswer(3);
                    // }
                    // else {
                    //     wrongAnswer(3);
                    // }

                    // if (q2 == "A3"){
                    //     rightAnswer(2);
                    // }
                    // else {
                    //     wrongAnswer(2);
                    // }

                    $("#totalScore").html(`Total Score: ${score}`);

                    if(score < 75){
                        $("#totalScore").addClass("red");
                        $("#totalScore").removeClass("green");

                    }
                    else{
                        $("#totalScore").addClass("green");
                        $("#totalScore").removeClass("red");
                    }
                }
            })
        </script>
    </head>

    <body class="container clearfix">
        <h1> <em><ins>Three Types of Viruses</ins> </em> </h1>
        <nav >
            <a href="/HTML_files/index.html">Home</a>
            <a href="/HTML_files/resident.html">Resident Virus</a>
            <a href="/HTML_files/direct.html">Direct Action Virus</a>
            <a href="/HTML_files/boot.html">Boot Sector Virus</a>
            <a href="/HTML_files/quiz.html">Quiz</a>
        </nav>

        <br /><br />

        <div id="someInfo">
            <form>
                
                <label for="Q1">How old was the person that worte the first virus in 1982?</label><br>
                <input type="text" id="Q1" name="Q1"><br><br />
                
                <label for="Q2">How many areas of the resident virus are discussed?</label><br>
                <input type="radio" id="A1" name="Q2" value="A1">
                <label for="A1">0</label><br>
                <input type="radio" id="A2" name="Q2" value="A2">
                <label for="A2">1</label><br>
                <input type="radio" id="A3" name="Q2" value="A3">
                <label for="A3">2</label><br>
                <input type="radio" id="A4" name="Q2" value="A4">
                <label for="A4">3</label><br><br />

                <label for="Q3">There is one direct action virus that was rumored to be the first, what was it called?</label><br>
                <input type="text" id="Q3" name="Q3"><br><br />

                <label for="Q4">When was the boot sector virus popular?</label><br>
                <input type="radio" id="a1" name="Q4" value="a1">
                <label for="a1">1980s</label><br>
                <input type="radio" id="a2" name="Q4" value="a2">
                <label for="a2">1990s</label><br>
                <input type="radio" id="a3" name="Q4" value="a3">
                <label for="a3">2000s</label><br>
                
              </form>

              <h3 id="validationFdbk" class="bg-danger text-white"></h3>
              <button class="btn btn-outline-success"> Submit Quiz </button>
              <br>
        </div>
    </body>
</html>